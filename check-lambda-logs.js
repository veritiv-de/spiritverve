console.log('=== LAMBDA LOGS CHECKING GUIDE ===');
console.log('');
console.log('Since you\'re still getting the same error, let\'s check the Lambda logs');
console.log('to see if the function is being called and what\'s happening.');
console.log('');
console.log('=== STEP 1: CHECK IF LAMBDA IS BEING CALLED ===');
console.log('');
console.log('1. GO TO AWS CONSOLE → CLOUDWATCH');
console.log('   https://console.aws.amazon.com/cloudwatch/');
console.log('');
console.log('2. GO TO LOG GROUPS');
console.log('   - Click "Log groups" in left menu');
console.log('   - Search for: helloWorld-main');
console.log('   - Or look for: /aws/lambda/helloWorld-main');
console.log('');
console.log('3. CHECK RECENT LOG STREAMS');
console.log('   - Click on the log group');
console.log('   - Look for recent log streams (last few minutes)');
console.log('   - If no recent streams, Lambda is not being called');
console.log('');
console.log('=== STEP 2: IF NO LOGS (Lambda not called) ===');
console.log('');
console.log('This means the API Gateway is not reaching the Lambda function.');
console.log('Possible causes:');
console.log('1. Methods not properly created in API Gateway');
console.log('2. Lambda function name mismatch');
console.log('3. API Gateway deployment issue');
console.log('');
console.log('=== STEP 3: IF LOGS EXIST (Lambda is called) ===');
console.log('');
console.log('1. Click on the latest log stream');
console.log('2. Look for these log entries:');
console.log('   - "=== LAMBDA FUNCTION STARTED ==="');
console.log('   - "=== REDSHIFT QUERY STARTED ==="');
console.log('   - Any error messages');
console.log('');
console.log('=== STEP 4: MANUAL API GATEWAY VERIFICATION ===');
console.log('');
console.log('1. GO TO API GATEWAY');
console.log('   https://console.aws.amazon.com/apigateway/');
console.log('');
console.log('2. FIND YOUR API');
console.log('   - Search for: evnlyx5ji2');
console.log('');
console.log('3. CHECK /redshift METHODS');
console.log('   - Go to Resources → /redshift');
console.log('   - Verify GET and OPTIONS methods exist');
console.log('   - Click on GET method');
console.log('   - Check "Integration type" is "Lambda Proxy"');
console.log('   - Check "Lambda function" is "helloWorld-main"');
console.log('');
console.log('=== STEP 5: TEST ENDPOINT DIRECTLY ===');
console.log('');
console.log('Run this command to test with detailed output:');
console.log('node test-redshift-endpoint.js');
console.log('');
console.log('=== STEP 6: CHECK LAMBDA FUNCTION CODE ===');
console.log('');
console.log('1. GO TO LAMBDA');
console.log('   https://console.aws.amazon.com/lambda/');
console.log('');
console.log('2. FIND FUNCTION');
console.log('   - Search for: helloWorld-main');
console.log('');
console.log('3. CHECK CODE');
console.log('   - Click on the function');
console.log('   - Go to "Code" tab');
console.log('   - Verify the Redshift code is there');
console.log('   - Check if pg module is installed');
console.log('');
console.log('=== QUICK DIAGNOSTIC ===');
console.log('');
console.log('Run this to get current status:');
console.log('node detailed-api-diagnostic.js');
console.log('');
console.log('=== EXPECTED FINDINGS ===');
console.log('');
console.log('If Lambda is not being called:');
console.log('- No recent log streams in CloudWatch');
console.log('- API Gateway methods not properly configured');
console.log('');
console.log('If Lambda is being called:');
console.log('- Recent log streams with detailed error messages');
console.log('- Redshift connection errors or other issues'); 