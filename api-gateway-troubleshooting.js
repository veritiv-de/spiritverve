console.log('=== API GATEWAY TROUBLESHOOTING GUIDE ===');
console.log('');
console.log('The /redshift resource exists but returns 403. This means:');
console.log('✅ Resource exists');
console.log('❌ Methods (GET/OPTIONS) not deployed to stage');
console.log('');
console.log('=== STEP-BY-STEP FIX ===');
console.log('');
console.log('1. GO TO AWS CONSOLE → API GATEWAY');
console.log('   URL: https://console.aws.amazon.com/apigateway/');
console.log('');
console.log('2. FIND YOUR API');
console.log('   - Look for API with ID: evnlyx5ji2');
console.log('   - Or search for "helloworldapi"');
console.log('');
console.log('3. CHECK RESOURCES TAB');
console.log('   - Click on "Resources" in the left menu');
console.log('   - You should see:');
console.log('     / (root)');
console.log('     /hello');
console.log('     /redshift');
console.log('');
console.log('4. CHECK /redshift METHODS');
console.log('   - Click on the /redshift resource');
console.log('   - You should see GET and OPTIONS methods');
console.log('   - If not, the deployment failed');
console.log('');
console.log('5. CHECK STAGES TAB');
console.log('   - Click on "Stages" in the left menu');
console.log('   - Look for "main" stage');
console.log('   - Check if it shows the latest deployment');
console.log('');
console.log('6. MANUAL DEPLOYMENT (if needed)');
console.log('   - Go to "Actions" dropdown → "Deploy API"');
console.log('   - Select stage: "main"');
console.log('   - Add deployment description: "Fix redshift endpoint"');
console.log('   - Click "Deploy"');
console.log('');
console.log('7. TEST THE ENDPOINT');
console.log('   - After deployment, test:');
console.log('   https://evnlyx5ji2.execute-api.us-east-1.amazonaws.com/main/redshift');
console.log('');
console.log('=== ALTERNATIVE: CHECK CLOUDFORMATION ===');
console.log('');
console.log('1. GO TO CLOUDFORMATION');
console.log('   URL: https://console.aws.amazon.com/cloudformation/');
console.log('');
console.log('2. FIND YOUR STACK');
console.log('   - Look for: amplify-spiritverve-main-*');
console.log('   - Check for any failed nested stacks');
console.log('');
console.log('3. CHECK API GATEWAY NESTED STACK');
console.log('   - Look for nested stack with "apihelloworldapi" in the name');
console.log('   - Check if it deployed successfully');
console.log('');
console.log('=== QUICK TEST ===');
console.log('');
console.log('Run this command to test after manual deployment:');
console.log('node test-redshift-endpoint.js');
console.log('');
console.log('=== EXPECTED RESULT ===');
console.log('');
console.log('If successful, you should see:');
console.log('- Status: 200 (not 403)');
console.log('- Response with Redshift data or error details');
console.log('- No "Missing Authentication Token" error'); 